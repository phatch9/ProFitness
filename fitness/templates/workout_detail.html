{% extends "base.html" %}

{% block title %}
<title>Workout Details - ProFitness</title>
{% endblock %}

{% block content %}

<style>
.workout-detail {
  max-width: 1000px;
  margin: 0 auto;
  padding: 2rem 1rem;
}

.back-link {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  color: #667eea;
  text-decoration: none;
  font-weight: 500;
  margin-bottom: 2rem;
  transition: all 0.3s ease;
}

.back-link:hover {
  color: #764ba2;
  text-decoration: none;
  transform: translateX(-5px);
}

.workout-header {
  background: white;
  border-radius: 15px;
  padding: 2rem;
  box-shadow: 0 10px 30px rgba(0,0,0,0.1);
  margin-bottom: 2rem;
}

.workout-title {
  font-size: 2.5rem;
  font-weight: 700;
  color: #2c3e50;
  margin-bottom: 1rem;
}

.workout-meta {
  display: flex;
  flex-wrap: wrap;
  gap: 1rem;
  margin-bottom: 1.5rem;
}

.workout-tag {
  padding: 0.5rem 1rem;
  border-radius: 20px;
  font-size: 0.9rem;
  font-weight: 500;
}

.tag-type {
  background: #e3f2fd;
  color: #1976d2;
}

.tag-date {
  background: #f3e5f5;
  color: #7b1fa2;
}

.workout-stats {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
  gap: 1rem;
  padding: 1.5rem;
  background: #f8f9fa;
  border-radius: 10px;
}

.stat-item {
  text-align: center;
}

.stat-value {
  font-size: 1.5rem;
  font-weight: 700;
  color: #2c3e50;
  display: block;
}

.stat-label {
  font-size: 0.9rem;
  color: #6c757d;
  text-transform: uppercase;
  letter-spacing: 1px;
}

.workout-content {
  display: grid;
  grid-template-columns: 2fr 1fr;
  gap: 2rem;
}

.exercises-section {
  background: white;
  border-radius: 15px;
  padding: 2rem;
  box-shadow: 0 10px 30px rgba(0,0,0,0.1);
}

.exercises-title {
  font-size: 1.5rem;
  font-weight: 600;
  color: #2c3e50;
  margin-bottom: 1.5rem;
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.exercise-item {
  padding: 1.5rem;
  border-bottom: 1px solid #e0e0e0;
  transition: all 0.3s ease;
}

.exercise-item:hover {
  background: #f8f9fa;
}

.exercise-item:last-child {
  border-bottom: none;
}

.exercise-name {
  font-size: 1.2rem;
  font-weight: 600;
  color: #2c3e50;
  margin-bottom: 0.5rem;
}

.exercise-details {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
  gap: 1rem;
  margin-top: 1rem;
}

.detail-item {
  text-align: center;
  padding: 0.5rem;
  background: #f8f9fa;
  border-radius: 8px;
}

.detail-value {
  font-size: 1.1rem;
  font-weight: 600;
  color: #2c3e50;
  display: block;
}

.detail-label {
  font-size: 0.8rem;
  color: #6c757d;
  text-transform: uppercase;
}

.sidebar {
  display: flex;
  flex-direction: column;
  gap: 1.5rem;
}

.info-card {
  background: white;
  border-radius: 15px;
  padding: 1.5rem;
  box-shadow: 0 10px 30px rgba(0,0,0,0.1);
}

.info-title {
  font-size: 1.2rem;
  font-weight: 600;
  color: #2c3e50;
  margin-bottom: 1rem;
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.info-content {
  color: #6c757d;
  line-height: 1.6;
}

.notes-section {
  background: #f8f9fa;
  padding: 1rem;
  border-radius: 8px;
  border-left: 4px solid #667eea;
}

@media (max-width: 768px) {
  .workout-content {
    grid-template-columns: 1fr;
  }
  
  .workout-title {
    font-size: 2rem;
  }
  
  .workout-meta {
    flex-direction: column;
  }
  
  .workout-stats {
    grid-template-columns: repeat(2, 1fr);
  }
}
</style>

<div class="workout-detail">
  <!-- Back Link -->
  <a href="{{ url_for('workout_history') }}" class="back-link">
    <i class="fas fa-arrow-left"></i>
    Back to Workout History
  </a>

  <!-- Workout Header -->
  <div class="workout-header">
    <h1 class="workout-title">{{ workout.workout_name }}</h1>
    
    <div class="workout-meta">
      <span class="workout-tag tag-type">{{ workout.workout_type.title() }}</span>
      <span class="workout-tag tag-date">{{ workout.date_completed.strftime('%B %d, %Y at %I:%M %p') }}</span>
    </div>
    
    <div class="workout-stats">
      <div class="stat-item">
        <span class="stat-value">{{ workout.duration_minutes or 0 }}</span>
        <span class="stat-label">Minutes</span>
      </div>
      <div class="stat-item">
        <span class="stat-value">{{ workout.calories_burned or 0 }}</span>
        <span class="stat-label">Calories</span>
      </div>
      <div class="stat-item">
        <span class="stat-value">{{ workout.exercises|length }}</span>
        <span class="stat-label">Exercises</span>
      </div>
    </div>
  </div>

  <!-- Workout Content -->
  <div class="workout-content">
    <!-- Exercises Section -->
    <div class="exercises-section">
      <h2 class="exercises-title">
        <i class="fas fa-dumbbell"></i>
        Exercises Completed
      </h2>
      
      {% if workout.exercises %}
        {% for workout_exercise in workout.exercises|sort(attribute='order') %}
          <div class="exercise-item">
            <h3 class="exercise-name">{{ workout_exercise.exercise.name }}</h3>
            
            <div class="exercise-details">
              {% if workout_exercise.sets %}
                <div class="detail-item">
                  <span class="detail-value">{{ workout_exercise.sets }}</span>
                  <span class="detail-label">Sets</span>
                </div>
              {% endif %}
              
              {% if workout_exercise.reps %}
                <div class="detail-item">
                  <span class="detail-value">{{ workout_exercise.reps }}</span>
                  <span class="detail-label">Reps</span>
                </div>
              {% endif %}
              
              {% if workout_exercise.weight %}
                <div class="detail-item">
                  <span class="detail-value">{{ workout_exercise.weight }} kg</span>
                  <span class="detail-label">Weight</span>
                </div>
              {% endif %}
              
              {% if workout_exercise.duration_seconds %}
                <div class="detail-item">
                  <span class="detail-value">{{ workout_exercise.duration_seconds }}s</span>
                  <span class="detail-label">Duration</span>
                </div>
              {% endif %}
              
              {% if workout_exercise.distance %}
                <div class="detail-item">
                  <span class="detail-value">{{ workout_exercise.distance }} km</span>
                  <span class="detail-label">Distance</span>
                </div>
              {% endif %}
              
              {% if workout_exercise.calories %}
                <div class="detail-item">
                  <span class="detail-value">{{ workout_exercise.calories }}</span>
                  <span class="detail-label">Calories</span>
                </div>
              {% endif %}
            </div>
          </div>
        {% endfor %}
      {% else %}
        <p class="info-content">No exercises were recorded for this workout.</p>
      {% endif %}
    </div>

    <!-- Sidebar -->
    <div class="sidebar">
      <!-- Workout Type -->
      <div class="info-card">
        <h3 class="info-title">
          <i class="fas fa-tag"></i>
          Workout Type
        </h3>
        <p class="info-content">{{ workout.workout_type.title() }}</p>
      </div>

      <!-- Date & Time -->
      <div class="info-card">
        <h3 class="info-title">
          <i class="fas fa-calendar"></i>
          Date & Time
        </h3>
        <p class="info-content">{{ workout.date_completed.strftime('%B %d, %Y at %I:%M %p') }}</p>
      </div>

      <!-- Notes -->
      {% if workout.notes %}
        <div class="info-card">
          <h3 class="info-title">
            <i class="fas fa-sticky-note"></i>
            Notes
          </h3>
          <div class="notes-section">
            {{ workout.notes }}
          </div>
        </div>
      {% endif %}

      <!-- Action Buttons -->
      <div class="info-card">
        <h3 class="info-title">
          <i class="fas fa-cog"></i>
          Actions
        </h3>
        <div style="display: flex; flex-direction: column; gap: 1rem;">
          <a href="{{ url_for('log_workout') }}" class="btn btn-primary" style="text-align: center; padding: 0.8rem; background: linear-gradient(45deg, #4CAF50, #45a049); color: white; border-radius: 8px; text-decoration: none;">
            <i class="fas fa-plus"></i>
            Set New Workout
          </a>
          <a href="{{ url_for('workout_history') }}" class="btn btn-secondary" style="text-align: center; padding: 0.8rem; background: #f8f9fa; color: #6c757d; border: 2px solid #e0e0e0; border-radius: 8px; text-decoration: none;">
            <i class="fas fa-history"></i>
            View All Workouts
          </a>
        </div>
      </div>
    </div>
  </div>
</div>

{% endblock %} 